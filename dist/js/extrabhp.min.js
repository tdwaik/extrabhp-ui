/*!
 * Thaer Aldwaik -  v1.0.0
 * Copyright 2017 Thaer Aldwaik
 * Licensed under ISC
 */
"use strict";var app=angular.module("app",["ngRoute","ngCookies","ngSanitize","ngMessages"]);app.config(["$httpProvider",function(e){var t="application/x-www-form-urlencoded;charset=utf-8";e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",e.defaults.headers.post["Content-Type"]=t,e.defaults.headers.put["Content-Type"]=t,e.defaults.transformRequest=[function(e){var t=function(e){var n,r,o,a,s,i,u,c="";for(n in e)if(r=e[n],r instanceof Array)for(u=0;u<r.length;++u)s=r[u],o=n+"["+u+"]",i={},i[o]=s,c+=t(i)+"&";else if(r instanceof Object)for(a in r)s=r[a],o=n+"["+a+"]",i={},i[o]=s,c+=t(i)+"&";else void 0!==r&&null!==r&&(c+=encodeURIComponent(n)+"="+encodeURIComponent(r)+"&");return c.length?c.substr(0,c.length-1):c};return angular.isObject(e)&&"[object File]"!==String(e)?t(e):e}]}]).run(["$http","$cookies",function(e,t){e.defaults.headers.common.Authorization=t.get("aj")}]),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});
app.config(["$routeProvider","$locationProvider",function(e,l){e.when("/",{templateUrl:"/assets/view/homeView.html",controller:"homeController"}).when("/petrolhead-101",{templateUrl:"/assets/view/petrolhead101View.html",controller:"petrolhead101Controller"}).when("/cars-timeline",{templateUrl:"/assets/view/carsTimelineView.html",controller:"carsTimelineController"}).when("/404",{templateUrl:"/assets/view/404.html"}).otherwise({templateUrl:"/assets/view/404.html"}),l.html5Mode({enabled:!0})}]);
var APIEndPoint="http://extrabhp.com:8080",UIEndPoint="http://dev.extrabhp.com";app.service("API",["$http",function(t){return{call:function(e,n,a,r){return t({method:e,url:APIEndPoint+n,data:a,headers:r})}}}]),app.service("UI",["$http",function(t){return{call:function(e,n,a,r){return t({method:e,url:UIEndPoint+n,data:a,headers:r})}}}]),app.service("whatCarService",["API",function(t){this.getQuestion=function(e){var n={"Content-Type":"application/x-www-form-urlencoded"};return t.call("post","/whatCar",e,n)},this.sendIsHelpful=function(e,n){var a={whatCarLogId:e,isHelpful:n},r={"Content-Type":"application/json"};return t.call("post","/whatCar/isHelpful",JSON.stringify(a),r)},this.sendFeedback=function(e,n){var a={whatCarLogId:e,feedback:n},r={"Content-Type":"application/json"};return t.call("post","/whatCar/feedback",JSON.stringify(a),r)}}]),app.service("UIService",["UI",function(t){this.getModal=function(e){return t.call("get","/assets/modal/"+e+".html")}}]);
app.controller("carsTimelineController",["$scope",function(e){e.timeline=[{code:"Koenigsegg-One:1",release_date:2014,img:"https://www.autocar.co.uk/sites/autocar.co.uk/files/styles/gallery_slide/public/koenigsegg-one-1-014.jpg?itok=m4qCuo7D",subTitle:"koenigsegg One:1",title:"koenigsegg One:1",description:"The One:1 truly raised the performance bar. The One:1 featured new, unique solutions that enhance track performance without compromising top speed or everyday usability, with a stunning visual appearance to go with it."},{code:"Mercedes-SLS-AMG-Electric",release_date:2014,img:"http://st.automobilemag.com/uploads/sites/11/2013/06/Mercedes-Benz-SLS-AMG-Electric-Drive-on-Ring-5.jpg",subTitle:"Mercedes-AMG SLS Electric",title:"Mercedes-AMG SLS Electric",description:"Not only is the electric supercar AMG’s quietest model by a long way, but it’s also the brand’s most powerful. Electrification provides the SLS with 740 hp and 738 lb-ft of torque, with all the twist available from a standstill. The electricity is generated by four contact permanent-magnet synchronous electric motors that spin to 13,000 rpm and through a so-called axially arranged transmission. In comparison, the new-for-2013 petroleum-powered SLS AMG GT churns out 583 hp and 489 lb-ft. Benz claims the electrified SLS will hit 62 mph in 3.9 seconds before topping out at an electronically limited 155."},{code:"Lexus-LFA",release_date:2012,img:"https://s.aolcdn.com/dims-global/dims3/GLOB/legacy_thumbnail/916x515/quality/95/http://www.blogcdn.com/www.autoblog.com/media/2009/10/lexuslfafd_07.jpg",subTitle:"Lexus LFA",title:"Lexus LFA",description:"The Lexus LFA is a two-seat supercar from Lexus. It is the second model in the F marque line of performance vehicles from Lexus, following the IS F. Three concept versions have been shown, each debuting at the North American International Auto Show with the LF-A designation as part of the LF Series concept line."},{code:"Bugatti-Veyron",release_date:2005,img:"https://upload.wikimedia.org/wikipedia/commons/9/94/Bugatti_Veyron_16.4_%E2%80%93_Frontansicht_%283%29%2C_5._April_2012%2C_D%C3%BCsseldorf.jpg",subTitle:"Bugatti Veyron",title:"Bugatti Veyron",description:"The Bugatti Veyron EB 16.4 is a mid-engined sports car, designed and developed in Germany by the Volkswagen Group and manufactured in Molsheim, France, by Bugatti Automobiles S.A.S., named after the racing driver Pierre Veyron. The original version has a top speed of 407 km/h (253 mph)."},{code:"Nissan-Skyline-GTR-R34",release_date:1999,img:"https://upload.wikimedia.org/wikipedia/commons/7/73/Nissan_Skyline_R34_GT-R_N%C3%BCr_001.jpg",subTitle:"Nissan Skyline GT-R R34",title:"Nissan Skyline GT-R R34",description:"Nismo originally designed the concept of the Z-tune in 2002 when Nissan was putting an end to the R34 Skyline production. The first Z-tune was built in 2003, using a used 2002 Skyline GT-R V·Spec II. It was built with a concept RB26DETT 'Z1' engine"},{code:"Mercedes-AMG",release_date:1993,img:"https://www.mercedes-benz.com/wp-content/uploads/sites/3/2017/07/07-mercedes-benz-vehicles-mercedes-amg-gt-4-c-190-2560x1919-1280x960.jpg",subTitle:"Mercedes-AMG",title:"Mercedes-AMG",description:"Mercedes-AMG GmbH, commonly known as AMG, is the high performance division of Mercedes-Benz. AMG independently hires engineers and manufactures and customizes Mercedes-Benz AMG vehicles."},{code:"Toyota-Supra",release_date:1993,img:"http://dealeraccelerate-all.s3.amazonaws.com/lusso/images/3/9/39/4432_232d0d9c4dcb_low_res.JPG",subTitle:"Toyota Supra",title:"Toyota Supra",description:"The Toyota Supra is a sports car/grand tourer that was produced by Toyota Motor Corporation from 1978 to 2002. "},{code:"Ferrari-F40",release_date:1987,img:"https://upload.wikimedia.org/wikipedia/commons/c/cb/F40_Ferrari_20090509.jpg",subTitle:"Ferrari F40",title:"Ferrari F40",description:"The Ferrari F40 is a mid-engine, rear-wheel drive, two-door coupé sports car built from 1987 to 1992, with the LM and GTE race car versions continuing production until 1994 and 1996 respectively. The successor to the Ferrari 288 GTO, it was designed to celebrate Ferrari's 40th anniversary"},{code:"BMW-E30-M3",release_date:1985,img:"http://orig10.deviantart.net/7f27/f/2009/281/0/9/m_power_by_evertech11.jpg",subTitle:"BMW E30 M3",title:"BMW E30 M3",description:"The BMW M3 is a high-performance version of the BMW 3 Series, developed by BMW's in-house motorsport division"},{code:"Lamborghini-Miura",release_date:1966,img:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/Lamborghini_Miura_Sinsheim.jpg/1200px-Lamborghini_Miura_Sinsheim.jpg",subTitle:"First Mid-Engine",title:"Lamborghini Miura",description:"The Lamborghini Miura is a sports car produced by Italian automaker Lamborghini between 1966 and 1973. The car was possibly the first supercar with a rear mid-engined two-seat layout, although the concept was first pioneered by René Bonnet with the Matra Djet in 1964."}],e.shareFB=function(e){var t="http://extrabhp.com/car-timeline#"+e.code;$("#og-url").attr("content")?$("#og-url").attr("content",t):$("head").append('<meta id="og-url" property="og:url" content="'+t+'" />'),$("#og-title").attr("content")?$("#og-title").attr("content",e.title):$("head").append('<meta id="og-title" property="og:title" content="'+e.title+'" />'),$("#og-description").attr("content")?$("#og-description").attr("content",e.description):$("head").append('<meta id="og-description" property="og:description" content="'+e.description+'" />'),$("#og-image").attr("content")?$("#og-image").attr("content",e.img):$("head").append('<meta id="og-image" property="og:image" content="'+e.img+'" />')}}]);
app.controller("homeController",["$scope","$timeout","alerts","whatCarService",function(e,n,o,s){var t=null;e.getQuestion=function(){e.loading=!0,s.getQuestion(e.answers).then(function(n){200===n.status?(e.question=n.data,void 0!==e.question.type&&"multiple_choice"===e.question.type&&e.question.answers.forEach(function(e){this[e.value]=!1},e.checkboxModel),e.loading=!1):201===n.status?(e.result=n.data.result,e.loading=!1,t=n.data.whatCarLogId):o.oops()},function(e){o.oops()})},e.submitAnswer=function(n,o){e.answers[n]=o,e.getQuestion()},e.submitCheckboxModel=function(n){e.answers[n]=e.getCheckedBoxesValue(),e.checkboxModel={},e.getQuestion()},e.getCheckedBoxesValue=function(){console.log(e.checkboxModel);var n=[];return angular.forEach(e.checkboxModel,function(e,n){e===!0&&this.push(n)},n),n.join(",")},e.init=function(){e.answers={},e.question=null,e.result=null,e.checkboxModel={},e.loading=!0,e.isHelpful.show=!0,e.isHelpful.loading=!1,e.feedback.show=!1,e.feedback.loading=!1,e.feedback.value=null,e.showThanks=!1,t=null,e.getQuestion()},e.tryAgain=function(){e.init()},e.isHelpful={show:!0,loading:!1,send:function(n){e.isHelpful.loading=!0,s.sendIsHelpful(t,n).then(function(n){e.isHelpful.loading=!1,e.isHelpful.show=!1,e.feedback.show=!0},function(e){o.oops()})}},e.feedback={show:!1,loading:!1,value:null,send:function(){e.feedback.loading=!0,s.sendFeedback(t,e.feedback.value).then(function(o){e.feedback.loading=!1,e.feedback.show=!1,e.showThanks=!0,n(function(){e.showThanks=!1},1e3)},function(e){o.oops()})}},e.back=function(){var n=null;angular.forEach(e.answers,function(e,o){n=o}),delete e.answers[n],e.getQuestion()},e.showBack=function(){return JSON.stringify(e.answers)!==JSON.stringify({})}}]);
app.controller("mainController",["$rootScope","$location",function(o,a){o.alerts=[],o.pushAlert=function(a,t){o.alerts.push({type:a,message:t})},o.closeAlert=function(a){o.alerts.slice(1,a)},o.$on("$locationChangeStart",function(){$(window).off(".affix"),$("#mainNav").removeData("bs.affix").removeClass("affix affix-top affix-bottom"),$("#mainNav").affix({offset:{top:"/"===a.path()?50:-1}})})}]);
app.controller("petrolhead101Controller",["$scope",function(e){e.mustKnow=[{img:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/Lamborghini_Miura_Sinsheim.jpg/1200px-Lamborghini_Miura_Sinsheim.jpg",subTitle:"First Mid-Engine",title:"Lamborghini Miura",description:""},{img:"http://orig10.deviantart.net/7f27/f/2009/281/0/9/m_power_by_evertech11.jpg",subTitle:"BMW M Power",title:"BMW M3 Series",description:""},{img:"https://www.mercedes-benz.com/wp-content/uploads/sites/3/2017/07/07-mercedes-benz-vehicles-mercedes-amg-gt-4-c-190-2560x1919-1280x960.jpg",subTitle:"Mercedes-AMG",title:"Mercedes-AMG",description:""},{img:"http://dealeraccelerate-all.s3.amazonaws.com/lusso/images/3/9/39/4432_232d0d9c4dcb_low_res.JPG",subTitle:"Toyota Supra",title:"Toyota Supra",description:""},{img:"https://www.autocar.co.uk/sites/autocar.co.uk/files/styles/gallery_slide/public/images/car-reviews/first-drives/legacy/_dl22628.jpg?itok=dN83bQe2",subTitle:"Nissan GTR",title:"Nissan GTR",description:""},{img:"http://st.automobilemag.com/uploads/sites/11/2013/06/Mercedes-Benz-SLS-AMG-Electric-Drive-on-Ring-5.jpg",subTitle:"Mercedes-AMG SLS Electric",title:"Mercedes-AMG SLS Electric",description:""},{img:"https://s.aolcdn.com/dims-global/dims3/GLOB/legacy_thumbnail/916x515/quality/95/http://www.blogcdn.com/www.autoblog.com/media/2009/10/lexuslfafd_07.jpg",subTitle:"Lexus LFA",title:"Lexus LFA",description:""},{img:"https://www.autocar.co.uk/sites/autocar.co.uk/files/styles/gallery_slide/public/koenigsegg-one-1-014.jpg?itok=m4qCuo7D",subTitle:"koenigsegg One:1",title:"koenigsegg One:1",description:""}]}]);
app.directive("pageFooter",function(){return{restrict:"E",templateUrl:"/assets/directive/footer.html"}});

app.directive("pageHeader",function(){var e=["$scope",function(e){}];return{restrict:"E",templateUrl:"/assets/directive/header.html",controller:e}});
app.directive("tooltip",function(){return{restrict:"A",link:function(t,i,o){$(i).hover(function(){$(i).tooltip("show")},function(){$(i).tooltip("hide")})}}});
app.service("alerts",["$rootScope","$timeout",function(n,t){n.alerts=[];n.pushAlert=function(t,e){n.alerts.push({type:t,message:e})},n.closeAlert=function(t){n.alerts.slice(1,t)},n.$on("$routeChangeStart",function(){n.alerts=[]});var e=function(t,e){n.alerts.push({type:t,message:e,icn:""})};this.success=function(n){e("success",n)},this.info=function(n){e("info",n)},this.warning=function(n){e("warning",n)},this.danger=function(n){e("danger",n)},this.oops=function(){e("danger","Something went wrong !!")}}]);