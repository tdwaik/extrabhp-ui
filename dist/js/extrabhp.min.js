/*!
 * Thaer Aldwaik -  v1.0.0
 * Copyright 2018 Thaer Aldwaik
 * Licensed under ISC
 */
"use strict";var app=angular.module("app",["ngRoute","ngCookies","ngSanitize","ngMessages"]);app.config(["$httpProvider",function(e){var t="application/x-www-form-urlencoded;charset=utf-8";e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",e.defaults.headers.post["Content-Type"]=t,e.defaults.headers.put["Content-Type"]=t,e.defaults.transformRequest=[function(e){var t=function(e){var n,r,o,a,s,i,u,c="";for(n in e)if(r=e[n],r instanceof Array)for(u=0;u<r.length;++u)s=r[u],o=n+"["+u+"]",i={},i[o]=s,c+=t(i)+"&";else if(r instanceof Object)for(a in r)s=r[a],o=n+"["+a+"]",i={},i[o]=s,c+=t(i)+"&";else void 0!==r&&null!==r&&(c+=encodeURIComponent(n)+"="+encodeURIComponent(r)+"&");return c.length?c.substr(0,c.length-1):c};return angular.isObject(e)&&"[object File]"!==String(e)?t(e):e}]}]).run(["$http","$cookies",function(e,t){}]),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});
app.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"/assets/view/homeView.html",controller:"homeController"}).when("/petrolhead-101",{templateUrl:"/assets/view/petrolhead101View.html",controller:"petrolhead101Controller"}).when("/cars-timeline",{templateUrl:"/assets/view/carsTimelineView.html",controller:"carsTimelineController"}).when("/about",{templateUrl:"/assets/view/aboutView.html",controller:"aboutController"}).when("/404",{templateUrl:"/assets/view/404.html"}).otherwise({templateUrl:"/assets/view/404.html"}),t.html5Mode({enabled:!0})}]);
var APIEndPoint="https://extrabhp.com/s",UIEndPoint="https://extrabhp.com";app.service("API",["$http",function(t){return{call:function(e,n,a,r){return t({method:e,url:APIEndPoint+n,data:a,headers:r})}}}]),app.service("UI",["$http",function(t){return{call:function(e,n,a,r){return t({method:e,url:UIEndPoint+n,data:a,headers:r})}}}]),app.service("whatCarService",["API",function(t){this.getQuestion=function(e){var n={"Content-Type":"application/x-www-form-urlencoded"};return t.call("post","/whatCar",e,n)},this.sendIsHelpful=function(e,n){var a={whatCarLogId:e,isHelpful:n},r={"Content-Type":"application/json"};return t.call("post","/whatCar/isHelpful",JSON.stringify(a),r)},this.sendFeedback=function(e,n){var a={whatCarLogId:e,feedback:n},r={"Content-Type":"application/json"};return t.call("post","/whatCar/feedback",JSON.stringify(a),r)}}]),app.service("carsTimelineService",["API",function(t){this.getTimeline=function(){var e={"Content-Type":"application/x-www-form-urlencoded"};return t.call("get","/carsTimeline",null,e)}}]),app.service("UIService",["UI",function(t){this.getModal=function(e){return t.call("get","/assets/modal/"+e+".html")}}]);
app.controller("aboutController",["$scope",function(o){}]);
app.controller("carsTimelineController",["$scope","carsTimelineService",function(e,i){e.loading=!0,e.timelineDate=null,e.isTimelineDate=function(i,n){return null===e.timelineDate?(n&&(e.timelineDate=i),!0):e.timelineDate!==i&&(n&&(e.timelineDate=i),!0)},e.init=function(){i.getTimeline().then(function(i){e.timeline=i.data,e.loading=!1},function(e){})}}]);
app.controller("homeController",["$scope","$timeout","alerts","whatCarService",function(e,n,o,s){var t=null;e.getQuestion=function(){e.loading=!0,s.getQuestion(e.answers).then(function(n){200===n.status?(e.question=n.data,void 0!==e.question.type&&"multiple_choice"===e.question.type&&e.question.answers.forEach(function(e){this[e.value]=!1},e.checkboxModel),e.loading=!1):201===n.status?(e.result=n.data.result,e.loading=!1,t=n.data.whatCarLogId):o.oops()},function(e){o.oops()})},e.submitAnswer=function(n,o){e.answers[n]=o,e.getQuestion()},e.submitCheckboxModel=function(n){e.answers[n]=e.getCheckedBoxesValue(),e.checkboxModel={},e.getQuestion()},e.getCheckedBoxesValue=function(){console.log(e.checkboxModel);var n=[];return angular.forEach(e.checkboxModel,function(e,n){e===!0&&this.push(n)},n),n.join(",")},e.init=function(){e.answers={},e.question=null,e.result=null,e.checkboxModel={},e.loading=!0,e.isHelpful.show=!0,e.isHelpful.loading=!1,e.feedback.show=!1,e.feedback.loading=!1,e.feedback.value=null,e.showThanks=!1,t=null,e.getQuestion()},e.tryAgain=function(){e.init()},e.isHelpful={show:!0,loading:!1,send:function(n){e.isHelpful.loading=!0,s.sendIsHelpful(t,n).then(function(n){e.isHelpful.loading=!1,e.isHelpful.show=!1,e.feedback.show=!0},function(e){o.oops()})}},e.feedback={show:!1,loading:!1,value:null,send:function(){e.feedback.loading=!0,s.sendFeedback(t,e.feedback.value).then(function(o){e.feedback.loading=!1,e.feedback.show=!1,e.showThanks=!0,n(function(){e.showThanks=!1},1e3)},function(e){o.oops()})}},e.back=function(){var n=null;angular.forEach(e.answers,function(e,o){n=o}),delete e.answers[n],e.getQuestion()},e.showBack=function(){return JSON.stringify(e.answers)!==JSON.stringify({})}}]);
app.controller("mainController",["$rootScope","$scope","$location","$anchorScroll",function(o,a,t,e){o.alerts=[],o.pushAlert=function(a,t){o.alerts.push({type:a,message:t})},o.closeAlert=function(a){o.alerts.slice(1,a)},o.$on("$locationChangeStart",function(){$(window).off(".affix"),$("#mainNav").removeData("bs.affix").removeClass("affix affix-top affix-bottom"),$("#mainNav").affix({offset:{top:"/"===t.path()?50:-1}})}),o.scrollTo=function(o){var a=t.hash();t.hash(o),e(),t.hash(a)},a.contactUs={submit:function(){grecaptcha.execute()}}}]);
app.controller("petrolhead101Controller",["$scope","$anchorScroll",function(e,t){e.topics=[{code:"Internal_Combustion_Engine",img:"https://upload.wikimedia.org/wikipedia/commons/d/dc/4StrokeEngine_Ortho_3D_Small.gif",title:"Internal Combustion Engine",content:"An engine which generates motive power by the burning of petrol, oil, or other fuel with air inside the engine, the hot gases produced being used to drive a piston or do other work as they expand.",ref_link:"https://en.wikipedia.org/wiki/Internal_combustion_engine"},{code:"Differential",img:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ad/BAUMA_2004_ZF_Differentialgetriebe.jpg/640px-BAUMA_2004_ZF_Differentialgetriebe.jpg",title:"Differential",content:"Differential used to control the take-up reel of a paper tape reader made by Tally circa 1962. The bevel gears spin freely on their shafts, unless a brake shoe stops the left gear. This causes the planet gear to drive the output shaft at half the speed of the driven gear on the right.",ref_link:"https://en.wikipedia.org/wiki/Differential_(mechanical_device)"},{code:"Limited-slip_differential",img:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8b/Limited_slip_diff_cone.jpg/743px-Limited_slip_diff_cone.jpg",title:"Limited-slip differential",content:"A limited-slip differential is a type of differential that allows its two output shafts to rotate at different speeds but limits the maximum difference between the two shafts.",ref_link:"https://en.wikipedia.org/wiki/Limited-slip_differential"},{code:"Wankel_Engine",img:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/ba/Wankel-1.jpg/469px-Wankel-1.jpg",title:"Wankel Engine",content:"The Wankel engine is a type of internal combustion engine using an eccentric rotary design to convert pressure into rotating motion.",ref_link:"https://en.wikipedia.org/wiki/Wankel_engine"}],e.dictionary=[{code:"Petrolhead",name:"Petrolhead",content:"Car Enthusiast"},{code:"JDM",name:"JDM",content:"Japanese domestic market"},{code:"Muscle_car",name:"Muscle Car",content:"American term used to refer to a variety of high-performance automobiles"},{code:"ABS",name:"ABS (Anti-lock braking system)",content:"An anti-lock braking system or anti-skid braking system (ABS) is an automobile safety system that allows the wheels on a motor vehicle to maintain tractive contact with the road surface according to driver inputs while braking, preventing the wheels from locking up (ceasing rotation) and avoiding uncontrolled skidding."},{code:"ESC",name:"ESC / ESP / DSC / ASC",content:"Electronic stability control (ESC), also referred to as electronic stability program (ESP) or dynamic stability control (DSC), is a computerized technology that improves a vehicle's stability by detecting and reducing loss of traction (skidding). When ESC detects loss of steering control, it automatically applies the brakes to help \"steer\" the vehicle where the driver intends to go. Braking is automatically applied to wheels individually, such as the outer front wheel to counter oversteer or the inner rear wheel to counter understeer. Some ESC systems also reduce engine power until control is regained. ESC does not improve a vehicle's cornering performance; instead, it helps to minimize the loss of control."},{code:"Powertrain",name:"Powertrain",content:"The mechanism that transmits the drive from the engine of a vehicle to its axle."}]}]);
app.directive("pageFooter",function(){return{restrict:"E",templateUrl:"/assets/directive/footer.html"}});

app.directive("pageHeader",function(){var e=["$scope",function(e){}];return{restrict:"E",templateUrl:"/assets/directive/header.html",controller:e}});
app.directive("tooltip",function(){return{restrict:"A",link:function(t,i,o){$(i).hover(function(){$(i).tooltip("show")},function(){$(i).tooltip("hide")})}}});
app.service("alerts",["$rootScope","$timeout",function(n,t){n.alerts=[];n.pushAlert=function(t,e){n.alerts.push({type:t,message:e})},n.closeAlert=function(t){n.alerts.slice(1,t)},n.$on("$routeChangeStart",function(){n.alerts=[]});var e=function(t,e){n.alerts.push({type:t,message:e,icn:""})};this.success=function(n){e("success",n)},this.info=function(n){e("info",n)},this.warning=function(n){e("warning",n)},this.danger=function(n){e("danger",n)},this.oops=function(){e("danger","Something went wrong !!")}}]);