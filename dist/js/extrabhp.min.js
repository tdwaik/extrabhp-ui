/*!
 * Thaer Aldwaik -  v1.0.0.pre-alpha
 * Copyright 2017 Thaer Aldwaik
 * Licensed under ISC
 */
"use strict";var app=angular.module("app",["ngRoute","ngCookies","ngSanitize","ngMessages"]);app.config(["$httpProvider",function(e){var t="application/x-www-form-urlencoded;charset=utf-8";e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",e.defaults.headers.post["Content-Type"]=t,e.defaults.headers.put["Content-Type"]=t,e.defaults.transformRequest=[function(e){var t=function(e){var n,r,o,a,s,i,u,c="";for(n in e)if(r=e[n],r instanceof Array)for(u=0;u<r.length;++u)s=r[u],o=n+"["+u+"]",i={},i[o]=s,c+=t(i)+"&";else if(r instanceof Object)for(a in r)s=r[a],o=n+"["+a+"]",i={},i[o]=s,c+=t(i)+"&";else void 0!==r&&null!==r&&(c+=encodeURIComponent(n)+"="+encodeURIComponent(r)+"&");return c.length?c.substr(0,c.length-1):c};return angular.isObject(e)&&"[object File]"!==String(e)?t(e):e}]}]).run(["$http","$cookies",function(e,t){e.defaults.headers.common.Authorization=t.get("aj")}]),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});
app.config(["$routeProvider","$locationProvider",function(e,o){e.when("/",{templateUrl:"/assets/view/homeView.html",controller:"homeController"}).when("/petrolhead-101",{templateUrl:"/assets/view/petrolhead101View.html",controller:"petrolhead101Controller"}).when("/notFound",{templateUrl:"/assets/view/404.html"}).otherwise({redirectTo:"/notFound"}),o.html5Mode({enabled:!0})}]);
var APIEndPoint="http://localhost:8080";app.service("API",["$http",function(t){return{call:function(n,r,a){return t({method:n,url:APIEndPoint+r,data:a})}}}]),app.service("whatCarService",["API",function(t){this.getQuestion=function(n){return t.call("post","/whatCar",n)}}]);
app.controller("homeController",["$scope","alerts","whatCarService",function(e,o,n){e.answers=[],e.question=null,e.result=null,e.checkboxModel={},e.loading=!0,e.getQuestion=function(){e.loading=!0,n.getQuestion(e.answers).then(function(n){200===n.status?(e.question=n.data,void 0!==e.question.type&&"multiple_choice"===e.question.type&&e.question.answers.forEach(function(e){this[e.value]=!1},e.checkboxModel),e.loading=!1):201===n.status?(e.result=n.data,e.loading=!1):o.oops()},function(e){o.oops()})},e.submitAnswer=function(o,n){e.answers[o]=n,e.getQuestion()},e.submitCheckboxModel=function(o){e.answers[o]=e.getCheckedBoxesValue(),e.checkboxModel={},e.getQuestion()},e.getCheckedBoxesValue=function(){console.log(e.checkboxModel);var o=[];return angular.forEach(e.checkboxModel,function(e,o){e===!0&&this.push(o)},o),o.join(",")},e.init=function(){e.getQuestion()},e.tryAgain=function(){e.answers=[],e.question=null,e.result=null,e.checkboxModel={},e.loading=!0,e.init()},e.isHelpful={show:!0,loading:!1,send:function(o){e.isHelpful.loading=!0}}}]);
app.controller("mainController",["$rootScope",function(e){e.alerts=[],e.pushAlert=function(t,l){e.alerts.push({type:t,message:l})},e.closeAlert=function(t){e.alerts.slice(1,t)}}]);
app.controller("petrolhead101Controller",["$scope",function(o){}]);
app.directive("pageFooter",function(){return{restrict:"E",templateUrl:"/assets/directive/footer.html"}});
app.directive("pageHeader",function(){var e=["$scope",function(e){}];return{restrict:"E",templateUrl:"/assets/directive/header.html",controller:e}});
app.directive("tooltip",function(){return{restrict:"A",link:function(t,i,o){$(i).hover(function(){$(i).tooltip("show")},function(){$(i).tooltip("hide")})}}});
app.service("alerts",["$rootScope","$timeout",function(n,t){n.alerts=[];n.pushAlert=function(t,e){n.alerts.push({type:t,message:e})},n.closeAlert=function(t){n.alerts.slice(1,t)},n.$on("$routeChangeStart",function(){n.alerts=[]});var e=function(t,e){n.alerts.push({type:t,message:e,icn:""})};this.success=function(n){e("success",n)},this.info=function(n){e("info",n)},this.warning=function(n){e("warning",n)},this.danger=function(n){e("danger",n)},this.oops=function(){e("danger","Something went wrong !!")}}]);